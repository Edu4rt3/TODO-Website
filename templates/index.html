{% extends "layout.html" %}

{% block content %}
<h1>My Todo List</h1>

<form action="/add" method="POST" class="task-form">
    <div class="title-row">
        <input type="text" name="title" placeholder="Task title" required>
        <button type="submit">Add</button>
    </div>
    <input type="text" name="description" placeholder="Task description (optional)">
</form>

<ul>
    {% for task in tasks %}
        <li>
            <form action="/update/{{task.id}}" method="POST" style="display:inline;">
                <button type="submit">{% if task.completed %}✔{% else %}✖{% endif %}</button>
            </form>
            <div style="display:inline-block; margin-left:10px; max-width: 200px; word-wrap: break-word;">
                {% if task.completed %}
                    <s>{{ task.title }}</s>
                    <br><small><s>{{ task.description }}</s></small>
                {% else %}
                    <strong>{{ task.title }}</strong>
                    <br><small>{{ task.description }}</small></small>
                {% endif %}
            </div>
            <a href="/delete/{{task.id}}">🗑️</a>
        </li>
    {% endfor %}
</ul>
{% endblock %}